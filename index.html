<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Sticky Navbar with Vanilla JS</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <div class="banner-wrapper">
      <div class="banner">
        <div class="top">
          <div class="logo">DemoPage</div>
          <div class="right-top">
            <a href="#">Login</a>
          </div>
        </div>
        <div class="nav">
          <!--links for nav -->
          <ul class="menu">
            <li><a href="">Home</a></li>
            <li><a href="">Services</a></li>
            <li><a href="">Contact</a></li>
            <li><a href="">Docs</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="content">
      <!-- awesome content here -->
      <div class="text">
        <p>Lorem Ipsum</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <p>Quisque velit nisi, pretium ut lacinia in, elementum id enim.</p>
        <p>Curabitur aliquet quam id dui posuere blandit.</p>
      </div>
    </div>
  </div>

<script>
  //attach event handler to scroll event
  //we'll enclose everything in an IIFE so to avoid clashes with
  //other code running on the same page

  ( () => {
    'use strict';

    let refOffset = 0; //the amount of distance user scrolls down the page
    let visible = true;
    const bannerHeight = 77; //navbar's height
    const bannerWrapper = document.querySelector('.banner-wrapper');
    const banner = document.querySelector('.banner');

    function animateOut() {
      bannerWrapper.style.transform = `translateY(-${bannerHeight}px)`;
      bannerWrapper.style.mstransform = `translateY(-${bannerHeight}px)`;
      bannerWrapper.style.webkittransform = `translateY(-${bannerHeight}px)`;
      bannerWrapper.style.Moztransform = `translateY(-${bannerHeight}px)`;
      banner.style.background = 'rgba(162, 197, 35, 0.4)';
    }

    function animateIn() {
      bannerWrapper.style.transform = `translateY(0px)`;
      bannerWrapper.style.mstransform = `translateY(0px)`;
      bannerWrapper.style.webkittransform = `translateY(0px)`;
      bannerWrapper.style.Moztransform = `translateY(0px)`;
      banner.style.background = 'rgba(162, 197, 35, 0.4)';
    }

    const handler = () => {
      //dom manipulation code hereS

      const newOffset = window.scrollY; // # of px, page is scrolled vertically.

      if (newOffset > bannerHeight ) {
        //Navbar out of view
        if (newOffset > refOffset) {
          //scrolling down makes newOffset > refOffset -> hide Navbar.
          animateOut();
        } else {
          //Scrolling UP makes newOffset < refOffset -> Slide navbar down
          animateIn();
        }
        //update value to keep track of how far user has scrolled
        refOffset = newOffset;
      } else {
        //Show navbar
        banner.style.backgroundColor = 'rgba(162, 197, 35, 1)';
      }
    };

    window.addEventListener('scroll', handler, false)
  })();
</script>
</body>
</html>
